<!DOCTYPE html>
<html lang="ja"><meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="A layout example with a side menu that hides on mobile, just like the Pure website.">
<title>ざる魂</title>

<link rel="stylesheet" href="https://unpkg.com/purecss@1.0.0/build/pure-min.css" integrity="sha384-" crossorigin="anonymous">





     <link rel="stylesheet" href="/css/layouts/side-menu.css">

     <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/3.0.1/github-markdown.min.css">
<body>
        <div id="layout">
<a href="#menu" id="menuLink" class="menu-link">
    
    <span></span>
</a>

<div id="menu">
    <div class="pure-menu">
        <a class="pure-menu-heading" href="/">ホーム</a>
        <a class="pure-menu-heading" href="/search">全文検索</a>
        <ul class="pure-menu-list">
            
            
                <li class="pure-menu-item"><a href="/posts/" class="pure-menu-link">Posts</a></li>
            
            
            
                <li class="pure-menu-item"><a href="/search/" class="pure-menu-link">Searches</a></li>
            
            
        </ul>
    </div>
</div>
<div id="main" class="markdown-body">
<div class="content">
<section id="main">
  <h1 id="title"></h1>
  <div>
      
  </div>
  <div>
        <article id="content">
           <!-- @layout post -->
<!-- @title swank-clojureの後継モジュールのnREPLを試してみた -->
<!-- @date 2012-9-7  -->
<!-- @tag clojure nrepl -->

<ul>
いつのまにかswank-clojureが非推奨になり、代わりにnREPLというものが推奨されていた。
<li>https://github.com/technomancy/swank-clojure</li>
</ul>

<p>This project is no longer under active development</p>

<pre><code>New users are strongly encouraged to try out nrepl.el instead. If you
need an advanced debugger, Ritz might be a better fit.
</code></pre>

<p>超意訳。「swank-clojureは全然活動してないから、新規のユーザはnrepl.elを強く推奨する。
もしイケテるデバッガが欲しいならRitzがいいかもYO!。」</p>

<p>ということで、el-getでレシピに下記を追加して <code>nrepl.el</code> をインストール。</p>

<pre><code class="language-emacs-lisp"> (:name nrepl
  :type github
  :pkgname &quot;kingtim/nrepl.el&quot;
 )
</code></pre>

<p>で <code>lein2.0</code> で適当にプロジェクトをつくって、 <code>project.clj</code> に下記を追加。</p>

<pre><code>  :dependencies [[org.clojure/clojure &quot;1.4.0&quot;]
                 [org.clojure/tools.nrepl &quot;0.2.0-beta9&quot; ]]
</code></pre>

<p>最後に <code>M-x nrepl-jack-in</code> すると、nREPL-Server が起動して、nREPLが起動する。</p>

<ul>
キーバインドはほとんどSLIMEと同様だし、SLIMEの下記の特徴も実現してるので、これは本格的に移行できる雰囲気。
<li>シンボルの補完(TABで補完できる)</li>
<li>関数の引数表示(シンボルを打ちこむとミニバッファに自動表示)</li>
</ul>

<ul>
ただSLIMEを常用してきたわけではないので足りない機能もまだありそうだけど。
たとえば、
<li>REPL上でエラーが発生してもデバッガが起動しない(例外が表示されるだけ)</li>
<li>nREPLとは直接関係ないけど、auto-complte.elに対応するモジュール(ac-slime)がない。</li>
<li>HyperSpecのようなドキュメントシステムは？(doc関数ががあるからいらないか)</li>
</ul>

<ul>
ちなみに下記の記事を読むと、nREPL開発に至る経緯がある。
<li>http://technomancy.us/163</li>
</ul>

<p>clojureでSLIMEを使用する場合、最新のバージョンだと動かなかったりするので、
環境構築に苦労したけど、専用のSLIME代替モジュールができたおかげで環境構築が楽になりますな。</p>

<p>nREPLは、まだまだできたばかりのプロジェクトだけれども、
SLIMEの呪縛から解き放たれた期待のプロジェクト。
積極的に使っていきたい。</p>

        </article>
  </div>
</section>


                </div>
            </div></div>
        <script src="/js/ui.js"></script>
    </body>
</html>
